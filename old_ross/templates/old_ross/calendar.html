{% extends 'old_ross/base.html' %}

{% block title %} Calendar {% endblock %}

{% load static %}

{% block css %}
<link
  class="js-stylesheet"
  href="{% static 'old_ross/css/calendar.css' %}"
  rel="stylesheet"
/>
{% endblock %}

{% block content %}

<div class="container-fluid p-0">
  <h1 class="h3 mb-3">Calendar</h1>
  <div class="card">
    <div class="card-body">
      <div id="fullcalendar"></div>
    </div>
  </div>
</div>

{% endblock %}

{% block js %}
<script>
  var calendarEl = document.getElementById("fullcalendar");
  var calendar = new FullCalendar.Calendar(calendarEl, {
    themeSystem: "bootstrap",
    initialView: "dayGridMonth",
    initialDate: "{{initial_date|safe}}",
    eventOrder: "allDay",
    eventSources: [
      {{profit_events|safe}},
      {{loss_events|safe}},
    ],
    height: 650,
  });
  setTimeout(function () {
    calendar.render();
  }, 250);
</script>
{% endblock %}
